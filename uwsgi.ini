[uwsgi]
module = main
callable = app
logto = /var/log/mirror.log  # 日志输出路径（部署时确保目录存在，便于排查问题）
master = true  # 启用主进程（确保服务稳定）
workers = 4    # 工作进程数（根据服务器CPU核心数调整，建议=核心数*2）
threads = 2    # 每个进程线程数（提升并发处理能力）
socket = /tmp/uwsgi.sock  # 与Nginx通信的Unix Socket（比TCP更高效）
chmod-socket = 666  # 允许Nginx访问Socket文件
vacuum = true  # 服务停止时自动清理Socket文件
max-requests = 1000  # 每个工作进程处理请求数上限（避免内存泄漏）
max-requests-delta = 50  # 平滑重启阈值（提升服务可用性）
